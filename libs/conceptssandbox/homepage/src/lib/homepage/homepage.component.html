<div class="wrapper">
  <p>Homepage works!</p>

  <!-- Methoden Training Array -->

  <ul>
    @for (item of thingsWithArrays; track $index) {
    <li>
      {{ item }}
    </li>

    }
  </ul>

  <lib-button
    [label]="'Click me'"
    [isPrimary]="true"
    (customClick)="onSubmit()"
  ></lib-button>

  @if (fizzBuzzList.length > 0) {
  <h2>Ergebnis:</h2>
  <ul>
    @for (item of fizzBuzzList; track $index) {
    <li>{{ item }}</li>
    }
  </ul>
  }
</div>

<!-- - ShoppingList -  -->
<h2>Shoppingliste</h2>

<div class="wrapper-shopping-list">
  <div class="shopping-list">
    <div>
      @for(item of productsList; track $index){
      <li class="product">
        Stk. {{ item.name }} {{ item.price }} € =

        <lib-form-input
          [value]="item.quantity"
          [isReadonly]="true"
        ></lib-form-input>

        <lib-button
          [label]="'+'"
          [isPrimary]="true"
          (customClick)="incrementQuantity(item)"
        ></lib-button>

        <lib-button
          [label]="'-'"
          [isPrimary]="true"
          (customClick)="deleteProduct(item)"
        ></lib-button>
      </li>
      }
    </div>
  </div>

  <div class="textArea-wrapper">
    <p>Add a new Product!</p>

    <lib-create-product
      [placeholder]="'Name'"
      (valueChanged)="onNameChanged($event)"
    ></lib-create-product>

    <lib-create-product
      [placeholder]="'Price'"
      (valueChanged)="onPriceChanged($event)"
    ></lib-create-product>

    <div>
      <lib-button
        [label]="'+'"
        [isPrimary]="true"
        (customClick)="addNewProduct()"
      ></lib-button>
    </div>
  </div>

  <!-- ................ -->
</div>

<div class="wrapper-warenkorb">
  <h3>Total =</h3>

  <lib-form-input [value]="totalQuantity" [isReadonly]="true"></lib-form-input>

  <lib-form-input
    [value]="totalPrice"
    [isReadonly]="true"
    [unit]="'€'"
  ></lib-form-input>

  <lib-button
    [label]="'Warenkorb leeren!'"
    [isPrimary]="true"
    (customClick)="deleteBasket()"
  ></lib-button>
</div>

<!-- All Posts API! -->

<!-- ASL NÄCHSTE INPUTFELD FPR EINGABE DINS! ------------------------------------------------------------>

<div>
  <h2>Posts</h2>

  <div>
    <lib-button
      [label]="'Create New'"
      [isPrimary]="true"
      (customClick)="createPost()"
    ></lib-button>
  </div>

  <div>
    <h3>Neuer Eintrag</h3>
    <lib-create-product
      [placeholder]="'title'"
      (valueChanged)="onTitleChanged($event)"
    ></lib-create-product>

    <lib-create-product
      [placeholder]="'Body'"
      (valueChanged)="onBodyChanged($event)"
    ></lib-create-product>
  </div>

  @if (allPosts().length > 0) {
  <ul>
    @for (post of allPosts(); track $index) {
    <li>{{ post.title }}</li>
    <li>{{ post.body }}</li>
    }
  </ul>
  } @else {
  <p>Keine Posts geladen</p>
  }

  <!-- neuer button für delete! ------------------------------------------------------------>
  <!-- neuer button für Update! ------------------------------------------------------------>
  <!-- neuer button für Read als Dialog?! ------------------------------------------------------------>

  <!-- --------------------------------------- -->
  <br />
  <hr />
  <!-- bei jedem Klick des Buttons erscheint ein neuer Text in einer Liste der immer gleich ist außer die die Zahl ändert sich!
   mit Zähler quasi 0. TestText ein erster klick steht dann da 0. TestText 1. TestText  bei einem weiterem klick 0. TestText 1. TestText 2 -->
  <h3>Methoden Training</h3>


  <!-- Macht es vielleicht Sinn eine art Tabelle für lis zu machen und diese per inputFeld oder Dialog uozudaten? Welche Wege gibt es noch? -->
  <div class="textArea-wrapper">
    <lib-button
      [label]="'TestText'"
      [isPrimary]="true"
      (customClick)="createNewText()"
    ></lib-button>

    <ul>
      @for(textObj of textList; track textObj.text) {
      <li>
        <span
          (click)="updateText(textObj.id)"
          style="cursor: pointer; color: rgb(255, 255, 255)"
          onmouseover="this.style.color='rgb(100, 149, 237)'"
          onmouseout="this.style.color='rgb(255, 255, 255)'"
          >{{ textObj.text }}</span
          
        ><button class="delete-button"
          (click)="deleteText(textObj.id)"
        >X</button>
      </li>
      }
    </ul>
  </div>
</div>
